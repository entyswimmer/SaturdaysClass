# é–‹ç™ºãƒ«ãƒ¼ãƒ«

## 1. æ§‹æˆ

```text
Project1/
â”œâ”€ README.md                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ãƒ»ä½¿ã„æ–¹ï¼ˆæœ€åˆã«è¦‹ã‚‹ï¼‰
â”œâ”€ .gitignore                     # ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gitç®¡ç†ã‹ã‚‰é™¤å¤–
â”œâ”€ pyproject.toml                 # ä¾å­˜é–¢ä¿‚/ãƒ“ãƒ«ãƒ‰è¨­å®šï¼ˆPEP 621ã€æ¨å¥¨ï¼‰
â”œâ”€ requirements.txt               # pipã§ä½¿ã†å ´åˆã®ä¾å­˜é–¢ä¿‚
â”œâ”€ Makefile                       # macOS/Linuxç”¨ã‚¿ã‚¹ã‚¯ï¼ˆsetup/run/testâ€¦ï¼‰
â”œâ”€ scripts/                       # å®Ÿè¡Œç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆWindows/Macä¸¡å¯¾å¿œï¼‰
â”‚  â”œâ”€ setup_env.ps1               # Windows PowerShell: ä»®æƒ³ç’°å¢ƒï¼‹ä¾å­˜å°å…¥
â”‚  â”œâ”€ setup_env.sh                # macOS/Linux: ä»®æƒ³ç’°å¢ƒï¼‹ä¾å­˜å°å…¥
â”‚  â”œâ”€ run_app.ps1                 # Windows: ã‚¢ãƒ—ãƒªèµ·å‹•ï¼ˆStreamlitï¼‰
â”‚  â”œâ”€ run_app.sh                  # macOS/Linux: ã‚¢ãƒ—ãƒªèµ·å‹•
â”‚  â”œâ”€ generate_demo.ps1           # Windows: ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
â”‚  â””â”€ generate_demo.sh            # macOS/Linux: ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
â”œâ”€ configs/                       # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåˆ—åãƒãƒƒãƒ”ãƒ³ã‚°ç­‰ï¼‰
â”‚  â”œâ”€ app.yaml                    # UIã‚„å‡ºåŠ›å…ˆã€ãƒ†ãƒ¼ãƒã®è¨­å®š
â”‚  â””â”€ schema.yaml                 # ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆåˆ—ã®å‹å®šç¾©ï¼†ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€ data/                          # ãƒ‡ãƒ¼ã‚¿ç½®ãå ´ï¼ˆGitã«ã¯åŸå‰‡å«ã‚ãªã„ï¼‰
â”‚  â”œâ”€ input/                      # å…¥åŠ›Excel/CSVï¼ˆæ‰‹å‹• or ç”Ÿæˆï¼‰
â”‚  â”œâ”€ intermediate/               # å‰å‡¦ç†ãƒ»ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â””â”€ output/                     # ç”Ÿæˆã•ã‚ŒãŸã‚°ãƒ©ãƒ•ãƒ»PDFãƒ»Excel
â”œâ”€ assets/                        # ç”»åƒãƒ»ãƒ­ã‚´ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«
â”‚  â”œâ”€ fonts/                      # PDFç”¨ãƒ•ã‚©ãƒ³ãƒˆï¼ˆæ—¥æœ¬èªPDFå¯¾ç­–ï¼‰
â”‚  â””â”€ styles/                     # CSS/ãƒ†ãƒ¼ãƒè¨­å®šï¼ˆStreamlitç”¨ï¼‰
â”œâ”€ docs/                          # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚  â”œâ”€ requirements/               # è¦ä»¶å®šç¾©ãƒ»æ©Ÿèƒ½ä»•æ§˜
â”‚  â”‚  â””â”€ requirements.md
â”‚  â”œâ”€ architecture.md             # æ§‹æˆå›³ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
â”‚  â””â”€ ui_mockup.md                # ç”»é¢ãƒ¢ãƒƒã‚¯èª¬æ˜
â”œâ”€ notebooks/                     # å®Ÿé¨“ç”¨ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ï¼ˆE2Eæ¤œè¨¼ã¯srcã§ï¼‰
â”‚  â””â”€ 01_prototype.ipynb
â”œâ”€ reports/                       # è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆï¼ˆPDF/Wordï¼‰
â”‚  â””â”€ samples/                    # ãƒ‡ãƒ¢ç”¨ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€ src/                           # ã‚¢ãƒ—ãƒªã®å®Ÿè£…ã‚³ãƒ¼ãƒ‰ï¼ˆæœ€é‡è¦ï¼‰
â”‚  â”œâ”€ __init__.py
â”‚  â”œâ”€ app.py                      # Streamlit ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚  â”œâ”€ main.py                     # CLIã‚¨ãƒ³ãƒˆãƒªï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã‚‚ä½¿ãˆã‚‹ï¼‰
â”‚  â”œâ”€ config.py                   # configs/*.yaml èª­ã¿è¾¼ã¿ãƒ˜ãƒ«ãƒ‘
â”‚  â”œâ”€ data/                       # ãƒ‡ãƒ¼ã‚¿é–¢é€£ã®ãƒ­ã‚¸ãƒƒã‚¯
â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”œâ”€ loader.py                # Excel/CSVã®èª­ã¿è¾¼ã¿ï¼ˆpandasï¼‰
â”‚  â”‚  â”œâ”€ validator.py             # ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ãƒ»è¡¨è¨˜ã‚†ã‚Œè£œæ­£
â”‚  â”‚  â””â”€ generator.py             # ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
â”‚  â”œâ”€ processing/                 # å‰å‡¦ç†ãƒ»é›†è¨ˆãƒ»ç‰¹å¾´é‡
â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”œâ”€ cleaning.py              # æ¬ æãƒ»ç•°å¸¸å€¤å‡¦ç†
â”‚  â”‚  â””â”€ aggregations.py          # é›†è¨ˆï¼ˆå¹³å‡ãƒ»åˆ†å¸ƒãƒ»å‰²åˆï¼‰
â”‚  â”œâ”€ viz/                        # å¯è¦–åŒ–ï¼ˆã‚°ãƒ©ãƒ•å‡ºåŠ›ï¼‰
â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”œâ”€ charts.py                # å††ãƒ»æ£’ãƒ»ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ãªã©
â”‚  â”‚  â””â”€ themes.py                # ä¸€æ‹¬ãƒ†ãƒ¼ãƒè¨­å®šï¼ˆãƒ•ã‚©ãƒ³ãƒˆ/è‰²ï¼‰
â”‚  â”œâ”€ reporting/                  # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”œâ”€ pdf_builder.py           # ReportLabã§PDFä½œæˆï¼ˆæ—¥æœ¬èªå¯¾å¿œå«ã‚€ï¼‰
â”‚  â”‚  â””â”€ docx_builder.py          # ä»£æ›¿ï¼šWordãƒ¬ãƒãƒ¼ãƒˆï¼ˆpython-docxï¼‰
â”‚  â””â”€ utils/                      # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚     â”œâ”€ __init__.py
â”‚     â”œâ”€ paths.py                 # ä¸»è¦ãƒ‘ã‚¹ã®ä¸€å…ƒç®¡ç†
â”‚     â””â”€ logging.py               # ãƒ­ã‚®ãƒ³ã‚°è¨­å®š
â”œâ”€ tests/                         # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚  â”œâ”€ test_loader.py
â”‚  â”œâ”€ test_validator.py
â”‚  â”œâ”€ test_aggregations.py
â”‚  â”œâ”€ test_charts.py
â”‚  â””â”€ test_pdf_builder.py
â””â”€ .streamlit/                    # Streamlitå°‚ç”¨è¨­å®šï¼ˆUIã®è¦‹ãŸç›®ï¼‰
   â”œâ”€ config.toml                 # ãƒ†ãƒ¼ãƒãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   â””â”€ secrets.toml                # ï¼ˆå¿…è¦ãªã‚‰ï¼‰APIã‚­ãƒ¼ç­‰ â€»Gitç®¡ç†ã—ãªã„
```

ãƒ»ãã‚Œãã‚Œã®å½¹å‰²ã¨ãƒã‚¤ãƒ³ãƒˆ

1) **ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«**

*   **README.md**  
    ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€å®Ÿè¡Œæ–¹æ³•ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã€ã‚µãƒ³ãƒ—ãƒ«å‡ºåŠ›ãƒªãƒ³ã‚¯ã‚’è¨˜è¼‰ã€‚
*   **pyproject.toml / requirements.txt**  
    *pyproject* ã‚’åŸºæº–ã«ã—ã¤ã¤ã€æˆæ¥­/é…å¸ƒå‘ã‘ã« *requirements.txt* ã‚‚åŒæ¢±ã€‚
*   **Makefile & scripts/**  
    Windows/Mac ä¸¡å¯¾å¿œã§**ç‰‡ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ**ã‚’å¯èƒ½ã«ã€‚  
    ä¾‹ï¼‰`./scripts/run_app.sh` / `./scripts/run_app.ps1`ã€‚

2) **configs/**

*   **app.yaml**ï¼šãƒ†ãƒ¼ãƒè‰²ã€ã‚°ãƒ©ãƒ•ä¿å­˜å…ˆã€æ—¢å®šã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«åãªã©ã€‚
*   **schema.yaml**ï¼šåˆ—åã¨å‹ï¼ˆã‚«ãƒ†ã‚´ãƒª/æ•°å€¤/è‡ªç”±è¨˜è¿°ï¼‰ãƒ»è¨±å®¹å€¤ãƒ»ç¯„å›²ã€‚  
    â†’ åˆå¿ƒè€…ã§ã‚‚**åˆ—åãŒå¤‰ã‚ã£ã¦ã‚‚è¿½å¾“ã—ã‚„ã™ã„**ã‚ˆã†ã«ã™ã‚‹ã€‚

3) **data/**

*   **input/** ã« Excel ã‚’ç½®ãã¨ã€**output/** ã«ã‚°ãƒ©ãƒ•ãƒ»PDFãŒå‡ºã‚‹ã€‚  
    â†’ **ç›¸å¯¾ãƒ‘ã‚¹å›ºå®š**ã§ã€ã©ã“ã‹ã‚‰èµ·å‹•ã—ã¦ã‚‚å®‰å…¨ï¼ˆ`src/utils/paths.py`ã§å¸åï¼‰ã€‚

4) **src/**ï¼ˆå®Ÿè£…ã®ä¸­å¿ƒï¼‰

*   **app.py**ï¼šStreamlit UIï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’é›†è¨ˆâ†’ã‚°ãƒ©ãƒ•â†’PDFãƒœã‚¿ãƒ³ï¼‰ã€‚
*   **main.py**ï¼šCLIåˆ©ç”¨ï¼ˆ`python -m src.main --input data/input/sample.xlsx --report pdf`ï¼‰
*   **data/generator.py**ï¼š**ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒœã‚¿ãƒ³**ã‹ã‚‰å‘¼ã³å‡ºã™ã€‚
*   **reporting/pdf\_builder.py**ï¼šæ—¥æœ¬èªPDFã®ãƒ•ã‚©ãƒ³ãƒˆç™»éŒ²ï¼ˆReportLabã®CIDFont or Notoï¼‰ã€‚

5) **.streamlit/** ã¨ **assets/**ï¼ˆâ€œã‚«ãƒƒã‚³ã‚ˆã•â€ã®æºï¼‰

*   **.streamlit/config.toml** ã§ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒãƒ»ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã‚’æŒ‡å®šã€‚
*   **assets/styles/** ã«CSSï¼ˆStreamlitã§`st.markdown(..., unsafe_allow_html=True)`ã§é©ç”¨ï¼‰ã€‚
*   **assets/fonts/** ã«æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆï¼ˆPDF/ã‚°ãƒ©ãƒ•ã®æ–‡å­—åŒ–ã‘å¯¾ç­–ï¼‰ã€‚

6) **tests/**

æœ€ä½é™ã€ä»¥ä¸‹ã‚’æŠ¼ã•ãˆã‚‹ã¨å …ç‰¢ï¼š

*   `test_loader.py`: Excelèª­è¾¼ã®åˆ—åãƒ»å‹ã®æ¤œè¨¼
*   `test_aggregations.py`: å¹³å‡ãƒ»å‰²åˆã®æ­£ã—ã•
*   `test_pdf_builder.py`: PDFç”ŸæˆãŒä¾‹å¤–ãªãå®Œäº†ã™ã‚‹ã‹

âš™ï¸ OSåˆ¥ã®é…æ…®ãƒã‚¤ãƒ³ãƒˆï¼ˆWindows / macOSï¼‰

*   **æ”¹è¡Œã‚³ãƒ¼ãƒ‰**ï¼šGitã¯`.gitattributes`ã§`* text=auto`ã«ã™ã‚‹ã¨ç„¡é›£ã€‚
*   **ãƒ‘ã‚¹åŒºåˆ‡ã‚Š**ï¼šã‚³ãƒ¼ãƒ‰å†…ã¯\*\*`pathlib.Path`\*\*ã‚’å¿…ãšä½¿ç”¨ï¼ˆ`src/utils/paths.py`ã«é›†ç´„ï¼‰ã€‚
*   **å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ**ï¼šPowerShellï¼ˆ`.ps1`ï¼‰ã¨ã‚·ã‚§ãƒ«ï¼ˆ`.sh`ï¼‰ã‚’ä¸¡æ–¹ç”¨æ„ã€‚
*   **ãƒ•ã‚©ãƒ³ãƒˆ**ï¼šPDF/ã‚°ãƒ©ãƒ•ã§æ—¥æœ¬èªã‚’ä½¿ã†å ´åˆã¯ã€**åŒæ¢±ãƒ•ã‚©ãƒ³ãƒˆ or ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆæ¤œå‡º**ã§å›é¿ã€‚
*   **ä»®æƒ³ç’°å¢ƒ**ï¼šWindowsã¯`venv\Scripts\Activate.ps1`ã€macOSã¯`source venv/bin/activate`ã€‚


## ğŸ§© ä¾¿åˆ©ã‚µãƒ³ãƒ—ãƒ«ï¼ˆãã®ã¾ã¾ä½¿ãˆã‚‹é››å½¢ï¼‰

### `.gitignore`ï¼ˆæŠœç²‹ï¼‰

```gitignore
# Python
__pycache__/
*.pyc
.venv/
venv/

# Data
data/input/*
data/intermediate/*
data/output/*
!data/.gitkeep

# Reports
reports/*
!reports/samples/

# OS
.DS_Store

# Streamlit
.streamlit/secrets.toml
```

### `.streamlit/config.toml`ï¼ˆãƒ€ãƒ¼ã‚¯Ã—ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼‰

```toml
[theme]
base="dark"
primaryColor="#00b894"    # ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆç·‘ç³»ï¼‰
backgroundColor="#0f1116"
secondaryBackgroundColor="#151924"
textColor="#eaeaea"
font="sans serif"
```

### `README.md`ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰

````markdown
# ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆè‡ªå‹•é›†è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚¢ãƒ—ãƒª

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# macOS / Linux
./scripts/setup_env.sh
./scripts/run_app.sh
````

```powershell
# Windows (PowerShell)
./scripts/setup_env.ps1
./scripts/run_app.ps1
```

